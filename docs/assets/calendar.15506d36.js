import{S as z,i as O,s as P,h as $,m as j,p as A,q as B,r as G,w as W,x as J,z as K,b as p,c as V,d as y,a as k,f as d,l as N,g as T,H as Q,t as C,n as F,o as I,e as R,u as U}from"./index.578304cd.js";import{I as X}from"./IonPage.3e881d26.js";import{c as Y}from"./user.store.176ec192.js";import{x as Z}from"./index.f1a9933f.js";import{U as x,S as ee}from"./supabase.data.service.279a5283.js";import{g as te}from"./index.766fcfcd.js";import"./BehaviorSubject.a8d2a033.js";import"./loadingMessage.820316f7.js";import"./overlays-ab6211c7.8af6336b.js";function q(o,t,n){const e=o.slice();return e[12]=t[n],e}function oe(o){let t;return{c(){t=p("ion-item"),t.textContent="No days found"},m(n,e){k(n,t,e)},p:Q,d(n){n&&T(t)}}}function ne(o){let t,n=o[1],e=[];for(let l=0;l<n.length;l+=1)e[l]=M(q(o,n,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=R()},m(l,s){for(let a=0;a<e.length;a+=1)e[a].m(l,s);k(l,t,s)},p(l,s){if(s&15){n=l[1];let a;for(a=0;a<n.length;a+=1){const _=q(l,n,a);e[a]?e[a].p(_,s):(e[a]=M(_),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=n.length}},d(l){U(e,l),l&&T(t)}}}function H(o){var a,_;let t,n,e=((a=o[0])==null?void 0:a.daily_budget)-(((_=o[12])==null?void 0:_.food_total)||0).toFixed(2)+"",l,s;return{c(){t=p("b"),n=C("["),l=C(e),s=C("]\xA0\xA0")},m(r,f){k(r,t,f),d(t,n),d(t,l),d(t,s)},p(r,f){var c,g;f&3&&e!==(e=((c=r[0])==null?void 0:c.daily_budget)-(((g=r[12])==null?void 0:g.food_total)||0).toFixed(2)+"")&&I(l,e)},d(r){r&&T(t)}}}function M(o){var m,u;let t,n=o[12].date+"",e,l,s,a=o[2].getToday()===o[12].date&&((m=o[0])==null?void 0:m.daily_budget),_,r=(((u=o[12])==null?void 0:u.food_total)||0).toFixed(2)+"",f,c,g,h,v,D,i=a&&H(o);function S(){return o[7](o[12])}return{c(){t=p("ion-item"),e=C(n),l=V(),s=p("ion-note"),i&&i.c(),_=V(),f=C(r),g=V(),y(s,"slot","end"),y(s,"class",c=F(o[2].getToday()===o[12].date?"today":"notToday")+" svelte-107flm"),y(t,"class",h=F(o[2].getToday()===o[12].date?"today":"notToday")+" svelte-107flm")},m(b,w){k(b,t,w),d(t,e),d(t,l),d(t,s),i&&i.m(s,null),d(s,_),d(s,f),d(t,g),v||(D=N(t,"click",S),v=!0)},p(b,w){var L,E;o=b,w&2&&n!==(n=o[12].date+"")&&I(e,n),w&3&&(a=o[2].getToday()===o[12].date&&((L=o[0])==null?void 0:L.daily_budget)),a?i?i.p(o,w):(i=H(o),i.c(),i.m(s,_)):i&&(i.d(1),i=null),w&2&&r!==(r=(((E=o[12])==null?void 0:E.food_total)||0).toFixed(2)+"")&&I(f,r),w&2&&c!==(c=F(o[2].getToday()===o[12].date?"today":"notToday")+" svelte-107flm")&&y(s,"class",c),w&2&&h!==(h=F(o[2].getToday()===o[12].date?"today":"notToday")+" svelte-107flm")&&y(t,"class",h)},d(b){b&&T(t),i&&i.d(),v=!1,D()}}}function le(o){let t,n,e,l,s,a,_,r,f,c,g,h,v,D;function i(u,b){return u[1]&&u[1].length?ne:oe}let S=i(o),m=S(o);return{c(){t=p("ion-header"),n=p("ion-toolbar"),e=p("ion-buttons"),e.innerHTML="<ion-menu-button></ion-menu-button>",l=V(),s=p("ion-title"),s.textContent="Calendar",a=V(),_=p("ion-buttons"),r=p("ion-button"),f=p("ion-icon"),c=V(),g=p("ion-content"),h=p("ion-list"),m.c(),y(e,"slot","start"),y(f,"slot","icon-only"),y(f,"icon",Z),y(_,"slot","end"),y(t,"translucent","true"),y(g,"class","ion-padding")},m(u,b){k(u,t,b),d(t,n),d(n,e),d(n,l),d(n,s),d(n,a),d(n,_),d(_,r),d(r,f),k(u,c,b),k(u,g,b),d(g,h),m.m(h,null),v||(D=N(r,"click",o[6]),v=!0)},p(u,b){S===(S=i(u))&&m?m.p(u,b):(m.d(1),m=S(u),m&&(m.c(),m.m(h,null)))},d(u){u&&T(t),u&&T(c),u&&T(g),m.d(),v=!1,D()}}}function ie(o){let t,n;return t=new X({props:{ionViewDidEnter:o[4],ionViewWillLeave:o[5],$$slots:{default:[le]},$$scope:{ctx:o}}}),{c(){$(t.$$.fragment)},m(e,l){j(t,e,l),n=!0},p(e,[l]){const s={};l&32771&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){G(t,e)}}}function ae(o,t,n){let e,l;W(o,Y,i=>n(9,e=i)),W(o,te,i=>n(10,l=i));const s=x.getInstance(),a=ee.getInstance();let _={daily_budget:0,target_weight:0,water_target:8},r,f;J(async()=>{}),K(()=>{});const c=i=>{l("/day/[id]",{id:i})};return[_,r,s,c,async()=>{e!=null&&e.user_metadata?n(0,_=e==null?void 0:e.user_metadata):n(0,_={daily_budget:0,target_weight:0,water_target:8}),f||(f=await a.getDataSubscription("days").subscribe(i=>{i&&i.length>0&&n(1,r=i)}))},()=>{f&&f.unsubscribe(),n(1,r=[])},()=>c("new"),i=>c(i.id)]}class ge extends z{constructor(t){super(),O(this,t,ae,ie,P,{})}}export{ge as default};
