import{S as De,i as Ne,s as Oe,b as t,d as e,a as N,l as d,H as be,g as O,c,t as Ee,j as Ve,f as o,v as We}from"./index.82c33b84.js";import{m as X}from"./controllers.3650763e.js";import Ge from"./FoodSearchModal.18df1ff5.js";import{z as Pe,t as je,A as Ae,B as Je,C as Ke}from"./index.4efd86c3.js";import"./loadingMessage.d3dee378.js";import"./supabase.data.service.31706ad4.js";import"./BehaviorSubject.f845dde8.js";function ze(l){let r,a,n;return{c(){r=t("ion-icon"),e(r,"icon",Pe),e(r,"slot","start"),e(r,"size","large"),e(r,"color","primary")},m(_,M){N(_,r,M),a||(n=d(r,"click",l[7]),a=!0)},p:be,d(_){_&&O(r),a=!1,n()}}}function Qe(l){let r,a,n,_,M,S,h,E,y,F,k,B,i,f,ve,Y,Z,L,g,I,V,we,$,he,ee,oe,H,q,te,ye,T,ne,b,W,ke,ie,v,G,Ce,le,w,P,xe,ae,Ie,re,se,z,u,j,Te,A,Me,J,Se,K,Q,Fe,ce,Be,ue,me,D,C,R,Le,de,fe,x,U,He,pe,_e,qe,m=!l[1]&&ze(l);return{c(){r=c(),a=t("ion-header"),n=t("ion-toolbar"),_=t("ion-title"),_.textContent="Edit Entry",M=c(),S=t("ion-buttons"),h=t("ion-icon"),E=c(),y=t("ion-buttons"),m&&m.c(),F=c(),k=t("ion-icon"),B=c(),i=t("ion-grid"),f=t("ion-row"),f.innerHTML="<ion-col><ion-label>Title</ion-label></ion-col>",ve=c(),Y=t("ion-row"),Z=t("ion-col"),L=t("ion-item"),g=t("ion-input"),I=t("ion-icon"),we=c(),$=t("ion-row"),$.innerHTML="<ion-col><ion-label>Cost Per Serving</ion-label></ion-col>",he=c(),ee=t("ion-row"),oe=t("ion-col"),H=t("ion-item"),q=t("ion-grid"),te=t("ion-row"),te.innerHTML=`<ion-col style="text-align: center;"><ion-label>Per Serving</ion-label></ion-col> 
                            <ion-col style="text-align: center;"><ion-label>Servings</ion-label></ion-col> 
                            <ion-col style="text-align: center;"><ion-label>Total</ion-label></ion-col>`,ye=c(),T=t("ion-row"),ne=t("ion-col"),b=t("ion-input"),ke=c(),ie=t("ion-col"),v=t("ion-input"),Ce=c(),le=t("ion-col"),w=t("ion-input"),xe=c(),ae=t("ion-row"),ae.innerHTML="<ion-col><ion-label>Category</ion-label></ion-col>",Ie=c(),re=t("ion-row"),se=t("ion-col"),z=t("ion-item"),u=t("ion-segment"),j=t("ion-segment-button"),j.innerHTML="<ion-label>Breakfast</ion-label>",Te=c(),A=t("ion-segment-button"),A.innerHTML="<ion-label>Lunch</ion-label>",Me=c(),J=t("ion-segment-button"),J.innerHTML="<ion-label>Dinner</ion-label>",Se=c(),K=t("ion-segment-button"),K.innerHTML="<ion-label>Snack</ion-label>",Fe=c(),ce=t("ion-row"),ce.innerHTML="<ion-col><ion-label>Description</ion-label></ion-col>",Be=c(),ue=t("ion-row"),me=t("ion-col"),D=t("ion-item"),C=t("ion-textarea"),Le=c(),de=t("ion-row"),fe=t("ion-col"),x=t("ion-button"),U=t("ion-icon"),He=Ee(`\xA0\xA0
                `),pe=t("b"),pe.textContent="Done",document.title="FoodEntryModal",e(h,"icon",je),e(h,"slot","start"),e(h,"size","large"),e(h,"color","primary"),e(S,"slot","start"),e(k,"icon",Ae),e(k,"slot","start"),e(k,"size","large"),e(k,"color","primary"),e(y,"slot","end"),e(a,"translucent","true"),e(I,"class","inputIcon svelte-mfc9i2"),e(I,"icon",Je),e(I,"slot","start"),e(I,"size","large"),e(I,"color","medium"),e(g,"name","title"),e(g,"class","formInputBoxWithIcon svelte-mfc9i2"),e(g,"type","text"),e(g,"value",V=l[0].title),e(g,"placeholder","Title"),e(L,"class","formItem svelte-mfc9i2"),e(L,"lines","none"),e(b,"name","cps"),e(b,"class","formInputBoxCentered svelte-mfc9i2"),e(b,"inputmode","decimal"),e(b,"type","decimal"),e(b,"value",W=l[0].cps),e(v,"name","qty"),e(v,"class","formInputBoxCentered svelte-mfc9i2"),e(v,"inputmode","decimal"),e(v,"type","decimal"),e(v,"value",G=l[0].qty),e(w,"name","amt"),e(w,"class","formInputBoxCentered svelte-mfc9i2"),e(w,"inputmode","decimal"),e(w,"type","decimal"),e(w,"value",P=l[0].amt),e(H,"class","formItem svelte-mfc9i2"),e(H,"lines","none"),e(j,"value","Breakfast"),e(A,"value","Lunch"),e(J,"value","Dinner"),e(K,"value","Snack"),e(u,"value",Q=l[0].cat),e(u,"color","dark"),e(u,"name","cat"),e(u,"id","cat"),e(u,"class","formSegment svelte-mfc9i2"),Ve(u,"width","100%"),e(z,"class","formItem svelte-mfc9i2"),e(z,"lines","none"),e(C,"name","desc"),e(C,"class","formTextarea svelte-mfc9i2"),e(C,"type","text"),e(C,"value",R=l[0].desc),e(C,"placeholder","Description"),e(D,"class","formItem svelte-mfc9i2"),e(D,"lines","none"),e(U,"icon",Ke),e(U,"size","large"),e(x,"expand","block"),e(x,"disabled",!1),e(i,"class","ion-padding Grid svelte-mfc9i2")},m(s,p){N(s,r,p),N(s,a,p),o(a,n),o(n,_),o(n,M),o(n,S),o(S,h),o(n,E),o(n,y),m&&m.m(y,null),o(y,F),o(y,k),N(s,B,p),N(s,i,p),o(i,f),o(i,ve),o(i,Y),o(Y,Z),o(Z,L),o(L,g),o(g,I),o(i,we),o(i,$),o(i,he),o(i,ee),o(ee,oe),o(oe,H),o(H,q),o(q,te),o(q,ye),o(q,T),o(T,ne),o(ne,b),o(T,ke),o(T,ie),o(ie,v),o(T,Ce),o(T,le),o(le,w),o(i,xe),o(i,ae),o(i,Ie),o(i,re),o(re,se),o(se,z),o(z,u),o(u,j),o(u,Te),o(u,A),o(u,Me),o(u,J),o(u,Se),o(u,K),o(i,Fe),o(i,ce),o(i,Be),o(i,ue),o(ue,me),o(me,D),o(D,C),o(i,Le),o(i,de),o(de,fe),o(fe,x),o(x,U),o(x,He),o(x,pe),_e||(qe=[d(h,"click",l[2]),d(k,"click",l[8]),d(g,"ionChange",l[3]),d(b,"ionChange",l[5]),d(b,"ionFocus",ge),d(v,"ionChange",l[5]),d(v,"ionFocus",ge),d(w,"ionChange",l[5]),d(w,"ionFocus",ge),d(u,"ionChange",l[4]),d(C,"ionChange",l[3]),d(x,"click",l[6])],_e=!0)},p(s,[p]){s[1]?m&&(m.d(1),m=null):m?m.p(s,p):(m=ze(s),m.c(),m.m(y,F)),p&1&&V!==(V=s[0].title)&&e(g,"value",V),p&1&&W!==(W=s[0].cps)&&e(b,"value",W),p&1&&G!==(G=s[0].qty)&&e(v,"value",G),p&1&&P!==(P=s[0].amt)&&e(w,"value",P),p&1&&Q!==(Q=s[0].cat)&&e(u,"value",Q),p&1&&R!==(R=s[0].desc)&&e(C,"value",R)},i:be,o:be,d(s){s&&O(r),s&&O(a),m&&m.d(),s&&O(B),s&&O(i),_e=!1,We(qe)}}}function ge(l){try{(parseFloat(l.target.value)||0)===0&&(l.target.value="")}catch(r){console.error("error clearing zero value",r)}}function Re(l,r,a){let{entry:n={}}=r,{isNew:_}=r;const M=()=>{X.dismiss({data:null})};function S(i){a(0,n[i.target.name]=i.target.value,n)}function h(i){a(0,n[i.target.id]=i.target.value,n)}function E(i){try{a(0,n[i.target.name]=parseFloat(i.target.value)||0,n)}catch(f){console.error("handleNumberValue error",f),a(0,n[i.target.name]=0,n)}(i.target.name==="cps"||i.target.name==="qty")&&a(0,n.amt=n.cps*n.qty,n)}function y(){X.dismiss({data:n})}function F(){a(0,n.deleted=!0,n),X.dismiss({data:n})}async function k(){await B()}const B=async()=>{const i=await X.create({component:Ge,showBackdrop:!0,backdropDismiss:!0});await i.present();const{data:f}=await i.onWillDismiss();return(f==null?void 0:f.data)!==null?(a(0,n.title=f.data.title||"",n),a(0,n.cps=f.data.calories||0,n),a(0,n.qty=1,n),a(0,n.amt=n.cps*n.qty,n),a(0,n.desc=f.data.portion||"",n),!0):!1};return l.$$set=i=>{"entry"in i&&a(0,n=i.entry),"isNew"in i&&a(1,_=i.isNew)},[n,_,M,S,h,E,y,F,k]}class to extends De{constructor(r){super(),Ne(this,r,Re,Qe,Oe,{entry:0,isNew:1})}}export{to as default};
